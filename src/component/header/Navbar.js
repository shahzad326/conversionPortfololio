import React, { useState, useEffect } from "react";
import { Link } from "react-router-dom";


const Navbar = () => {
  const [showIcon, setShowIcon] = useState(true);
  const [isSticky, setIsSticky] = useState(true);

  const toggleIcon = () => {
    setShowIcon((prevShowIcon) => !prevShowIcon);
  };

  const handleScroll = () => {
    if (window.scrollY > 0) {
      setIsSticky(true);
    } else {
      setIsSticky(false);
    }
  };

  useEffect(() => {
    window.addEventListener("scroll", handleScroll);
    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, []);

  return (
    <div>
      <div
        className={`fixed flex w-full p-4 z-50 ${
          isSticky ? "bg-opacity-80 bg-gray-700 backdrop-blur-md" : ""
        } transition-all ease-in-out duration-300`}
      >
        {/* Left side - Logo */}
        <div className="flex-shrink-0 ml-12">
          <svg
            width="144.753"
            height="30.726"
            viewBox="0 0 132 32"
            class="ta-logo"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M123.944 29.5536C123.494 29.3553 123.126 29.0237 123.126 28.8167C123.126 28.6097 123.538 27.8099 124.042 27.0394C126.049 23.9705 127.013 21.1304 126.857 18.7431C126.703 16.3713 126.627 16.3254 123.021 16.4332C121.084 16.4911 119.614 16.6626 118.973 16.9052C117.748 17.369 114.416 17.1296 113.517 16.5132C112.642 15.9138 112.03 16.0372 110.575 17.1066C109.021 18.2487 108.301 18.2351 107.264 17.044L106.629 16.3135L104.902 18.2004C103.29 19.9626 103.115 20.0823 102.266 20.0129L101.357 19.9385V18.5463C101.357 17.7806 101.291 17.0889 101.211 17.0093C101.132 16.9297 99.8387 17.4746 98.3384 18.2202L95.6106 19.5759L92.1973 19.5364C88.4863 19.4935 88.0679 19.3866 86.0347 17.9612L84.8058 17.0996L83.9325 17.9792C83.1787 18.7384 82.9508 18.8366 82.2673 18.6973C81.8317 18.6086 81.3055 18.3343 81.0978 18.0879C80.7385 17.6615 80.6295 17.6926 78.8329 18.7353C75.586 20.6197 73.5444 20.9134 71.612 19.7741L70.8086 19.3004L69.5987 19.8991C67.4669 20.954 65.1853 21.5249 63.851 21.3374C62.1374 21.0966 61.7822 20.5123 61.5787 17.6C61.421 15.3439 61.4376 15.2364 62.0494 14.5466C62.3981 14.1533 62.991 13.2371 63.3668 12.5105C63.7426 11.784 64.1354 11.138 64.2395 11.075C64.3437 11.012 65.0035 9.80985 65.7058 8.40348C67.2881 5.23483 68.7948 3.88788 70.1766 4.40653C70.9574 4.69959 70.3257 6.13379 67.0489 11.5077C65.5745 13.9257 64.9039 15.7357 64.883 17.3539L64.8655 18.7077L65.6988 18.786C66.5158 18.8627 67.4037 18.6999 69.8732 18.0205C70.9724 17.7181 71.1738 17.5502 71.7321 16.4714C73.2441 13.5502 75.3134 12.2703 76.0316 13.8122C76.3674 14.5331 76.3612 14.5442 74.7526 16.1176C73.9389 16.9135 73.7798 17.2254 73.8456 17.8953C73.9232 18.6853 73.9566 18.7073 75.0579 18.6915C75.7956 18.6809 77.0236 18.3251 78.5801 17.671L80.9699 16.6666L81.3056 15.4718C81.4903 14.8146 81.9271 13.3586 82.2763 12.2362C82.6521 11.0284 82.9044 9.63212 82.8944 8.81514C82.8626 6.2103 84.3235 4.02202 85.742 4.54954C86.3225 4.7654 86.3828 4.91653 86.3828 6.15553C86.3828 6.90777 86.1698 8.15666 85.9096 8.93085C85.6493 9.70505 85.3621 10.9214 85.2714 11.6338C85.1081 12.9154 85.1156 12.9346 85.9813 13.4342C86.6344 13.8111 86.9601 14.2448 87.2656 15.1443C87.695 16.4089 88.8023 17.3539 89.8546 17.3539C90.3806 17.3539 91.416 16.2993 91.416 15.7636C91.416 15.6024 91.7083 15.2019 92.0655 14.8737C92.574 14.4064 92.9879 14.2769 93.9732 14.2769C95.3745 14.2769 96.097 14.8559 95.8161 15.7539C95.4669 16.8704 95.5322 16.9866 96.4795 16.9342C98.6725 16.8127 102.228 14.5115 102.247 13.2021C102.263 11.992 102.973 9.60738 103.409 9.2953C104.825 8.28295 105.675 9.75422 105.223 12.4334C105.062 13.3843 105.017 14.2435 105.123 14.3427C105.229 14.4419 105.558 14.1938 105.853 13.7914C106.747 12.5736 108.009 11.4462 108.478 11.4462C109.351 11.4462 110.004 12.1568 110.179 13.2961C110.389 14.6682 110.815 14.7207 112.063 13.5289C112.876 12.7518 113.049 12.6852 113.659 12.9121C114.071 13.0653 114.448 13.4634 114.609 13.9138C114.879 14.6703 115.929 15.3876 116.759 15.381C117.867 15.3723 121.062 13.9231 122.253 12.8893C122.928 12.3036 124.222 12.5914 124.336 13.3526C124.454 14.1382 124.951 14.4116 126.695 14.6509C128.009 14.8312 128.407 15.0028 128.993 15.6403C129.687 16.3968 129.699 16.4592 129.606 18.9135C129.53 20.9133 129.372 21.7612 128.819 23.1385C127.5 26.4203 127.506 26.3886 128.115 27.1948C128.416 27.5929 128.662 28.0191 128.662 28.142C128.662 28.5543 126.581 29.7175 125.667 29.8163C125.169 29.8701 124.393 29.7519 123.944 29.5536H123.944ZM2.12054 21.8171C1.84858 21.6485 1.86653 21.3473 2.21925 20.1605C2.45635 19.3628 2.89793 18.3218 3.20054 17.8474C4.38153 15.9955 4.91254 14.6962 4.75146 14.0524C4.66379 13.7021 4.52424 13.1488 4.44136 12.8229C4.31118 12.3111 4.48934 12.1015 5.7494 11.2844C7.13981 10.3828 7.2913 10.1777 8.98299 6.90625C10.8843 3.22941 11.3528 2.69182 12.056 3.37962C12.5159 3.82949 12.5497 3.58729 11.4873 7.45175C11.2539 8.30098 11.1289 9.06044 11.2097 9.13945C11.2905 9.21845 12.2411 9.09726 13.3222 8.87012C14.4032 8.64299 16.1371 8.34787 17.1752 8.2143C18.2134 8.08073 20.0809 7.79977 21.3253 7.58993C24.4313 7.06622 29.7224 6.29932 32.1492 6.0211C33.2566 5.89415 34.6155 5.68423 35.1692 5.5546C35.7229 5.42497 37.0818 5.25127 38.1892 5.16859C39.2965 5.08591 40.6555 4.92081 41.2091 4.80169C41.7628 4.68256 43.6314 4.46045 45.3616 4.30811C47.0918 4.15576 49.5266 3.88096 50.7724 3.69744C53.345 3.31843 56.6189 3.49597 57.3034 4.05161C58.1574 4.74489 57.1438 6.91458 55.6909 7.50323C54.621 7.93667 54.1698 7.68904 54.1698 6.66842C54.1698 6.19831 54.0812 5.76009 53.9728 5.69459C53.6064 5.47309 40.5803 6.65767 36.4848 7.28494L34.5289 7.58452L34.0236 8.70179C33.7457 9.31629 33.2314 10.187 32.8807 10.6367C31.7828 12.0446 31.2519 13.5511 31.097 15.698C30.9787 17.338 31.0239 17.7916 31.3304 18.0405C31.8864 18.4919 32.8701 18.0491 34.2348 16.7331C35.3388 15.6685 36.1057 15.3676 36.4253 15.8734C36.5096 16.0068 36.6827 16.7421 36.8101 17.5074C37.0719 19.0809 37.6085 19.8154 38.4964 19.8154C39.3519 19.8154 40.0766 20.2484 40.0766 20.7594C40.0766 21.7731 38.9067 22.0515 36.9981 21.4922C36.3204 21.2936 35.6707 20.8175 34.9732 20.0085L33.9463 18.8173L33.0478 19.6565C31.4904 21.111 30.5912 21.3527 29.2539 20.6763C28.7285 20.4106 28.4751 20.0586 28.3538 19.4259C28.2609 18.9416 28.0433 18.4922 27.8703 18.4272C27.6972 18.3623 26.4771 18.8577 25.1588 19.5282C23.4688 20.3878 22.2206 20.8366 20.9261 21.0501C19.0983 21.3517 19.0877 21.3502 18.5368 20.7238C18.2325 20.3777 17.9389 19.9639 17.8845 19.8042C17.8206 19.6169 17.3421 19.7888 16.5366 20.2886C14.0984 21.8013 10.1841 22.3312 9.12201 21.2923C8.08391 20.277 8.6957 18.6242 10.7061 17.0129C12.4737 15.5962 14.5632 15.275 15.1411 16.3312C15.4058 16.8149 14.9533 18.039 14.3197 18.5533C13.816 18.9622 13.7727 19.5692 14.2473 19.5692C14.4363 19.5692 15.375 19.1856 16.3333 18.7167C17.6181 18.088 18.5806 17.3447 19.9993 15.8859C21.6867 14.1506 22.0307 13.9077 22.8001 13.9077C24.0062 13.9077 24.4735 14.123 24.4735 14.6787C24.4735 15.0119 24.2389 15.1967 23.676 15.3068C22.1926 15.597 19.7034 18.6944 20.4034 19.3791C20.7879 19.7551 23.0391 19.1257 25.8123 17.8668C27.8735 16.9311 27.9762 16.8463 28.1322 15.9516C28.222 15.4367 28.4984 14.3508 28.7463 13.5385C29.2888 11.7614 29.7828 9.85778 29.9526 8.88953C30.0764 8.18422 30.0702 8.18036 29.1 8.35952C28.5624 8.45878 27.16 8.63042 25.9835 8.74095C24.8069 8.85147 23.5612 9.04778 23.2152 9.1772C22.8691 9.30662 21.5668 9.54468 20.321 9.70623C19.0753 9.86779 17.4332 10.1516 16.6719 10.3369C14.035 10.9787 11.2575 11.755 10.4585 12.0733C9.62771 12.4044 8.51859 13.8658 8.0595 15.2344C7.66162 16.4205 4.29459 21.1981 3.54658 21.638C2.78948 22.0832 2.58996 22.1082 2.12054 21.8171ZM12.7792 18.228C13.8716 17.7815 14.0184 16.9649 12.9599 17.2233C12.1441 17.4224 11.342 18.0681 11.5336 18.3714C11.7104 18.6512 11.7567 18.6459 12.7792 18.228ZM57.775 20.9331C57.3356 20.7462 56.7784 20.2982 56.5368 19.9375C56.063 19.2301 55.8527 19.2276 54.044 19.9076C52.5011 20.4877 51.0109 20.4253 50.535 19.7606C49.7717 18.6948 50.1747 17.6873 52.3503 15.2225C54.6335 12.6358 56.5562 11.9411 58.7061 12.926C60.2467 13.6318 60.6927 14.4653 60.0118 15.3662C58.2967 17.6352 58.2597 19.8154 59.9361 19.8154C60.3295 19.8154 60.784 19.9716 60.9459 20.1625C61.1795 20.4378 61.1223 20.5904 60.6691 20.9009C59.9743 21.3769 58.8475 21.3894 57.775 20.9331ZM54.404 18.2242C55.5835 17.6277 56.4959 16.3949 56.306 15.6547C56.025 14.5597 55.723 14.3655 54.9271 14.7681C54.0508 15.2113 52.1565 17.5061 52.1565 18.1245C52.1565 18.7019 53.3545 18.7551 54.404 18.2242Z"
              fill="#F7F7FC"
            ></path>
          </svg>
        </div>

        {/* Right side - Navigation */}

        <div className="flex-grow flex items-center justify-end mr-24">
          <ul className="flex space-x-6 text-white">
            <li
              className="hover:text-blue-500 text-md font-semibold flex items-center cursor-pointer"
              onClick={toggleIcon}
            >
              Service
              {showIcon ? (
                <svg
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  height="1.5em"
                  width="1.5em"
                  className="mt-1"
                >
                  <path d="M15.3 9.3a1 1 0 011.4 1.4l-4 4a1 1 0 01-1.4 0l-4-4a1 1 0 011.4-1.4l3.3 3.29 3.3-3.3z" />
                </svg>
              ) : (
                <svg
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  height="1.5em"
                  width="1.5em"
                  className="mt-1"
                >
                  <path d="M8.7 14.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L12 11.42l-3.3 3.3z" />
                </svg>
              )}
            </li>
            <li className="hover:text-blue-500 text-md font-semibold">
              Careers
            </li>
            <li className="hover:text-blue-500 text-md font-semibold">About</li>
            <li className="hover:text-blue-500 text-md font-semibold">Blog</li>
          </ul>
          <Link to="/contactUs">
            <button className="bg-white text-black px-5 py-3 rounded ml-4 font-semibold">
              Get Started
            </button>
          </Link>
        </div>
      </div>
    </div>
  );
};

export default Navbar;
